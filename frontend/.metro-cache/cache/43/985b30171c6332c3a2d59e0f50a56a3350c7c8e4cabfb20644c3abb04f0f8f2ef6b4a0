{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":64,"index":64}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":65},"end":{"line":2,"column":69,"index":134}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":135},"end":{"line":3,"column":45,"index":180}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../screens/ViewfinderScreen","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":181},"end":{"line":4,"column":59,"index":240}}],"key":"Qc4efk6A2u/sCgWH4XkHBQDYYKU=","exportNames":["*"],"imports":1}},{"name":"../types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":241},"end":{"line":5,"column":53,"index":294}}],"key":"SiqkZ9nARqNkdXfcIWbBgsKp5Yo=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/index.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return Index;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoRouter = require(_dependencyMap[4], \"expo-router\");\n  var _screensViewfinderScreen = require(_dependencyMap[5], \"../screens/ViewfinderScreen\");\n  var ViewfinderScreen = _interopDefault(_screensViewfinderScreen);\n  var _types = require(_dependencyMap[6], \"../types\");\n  var _reactJsxDevRuntime = require(_dependencyMap[7], \"react/jsx-dev-runtime\");\n  function Index() {\n    _s();\n    var _useState = (0, _react.useState)({\n        focalLength: 50,\n        pinholeSize: 0.3,\n        filmFormat: _types.FILM_FORMATS[2],\n        filmOrientation: 'landscape',\n        iso: 100,\n        selectedCondition: null,\n        useRedFilter: false,\n        selectedFilter: 'None',\n        useReciprocityFailure: true,\n        bracketStops: 0\n      }),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      settings = _useState2[0],\n      setSettings = _useState2[1];\n\n    // Reload settings every time the tab comes into focus\n    (0, _expoRouter.useFocusEffect)((0, _react.useCallback)(() => {\n      loadSettings();\n    }, []));\n\n    // Also load on initial mount for web compatibility\n    (0, _react.useEffect)(() => {\n      loadSettings();\n    }, []);\n    var loadSettings = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        try {\n          // Ensure we're in browser environment\n          if (typeof window === 'undefined') return;\n          var stored = yield AsyncStorage.default.getItem('app_settings');\n          console.log('Loaded settings from storage:', stored);\n          if (stored) {\n            var parsedSettings = JSON.parse(stored);\n            setSettings(prev => ({\n              ...prev,\n              ...parsedSettings,\n              // Ensure filmFormat is properly restored\n              filmFormat: parsedSettings.filmFormat || prev.filmFormat,\n              filmOrientation: parsedSettings.filmOrientation || 'landscape',\n              selectedFilter: parsedSettings.selectedFilter || 'None'\n            }));\n          }\n        } catch (error) {\n          console.error('Error loading settings:', error);\n        }\n      });\n      return function loadSettings() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var saveSettings = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (newSettings) {\n        try {\n          setSettings(newSettings);\n          yield AsyncStorage.default.setItem('app_settings', JSON.stringify(newSettings));\n        } catch (error) {\n          console.error('Error saving settings:', error);\n        }\n      });\n      return function saveSettings(_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ViewfinderScreen.default, {\n      settings: settings,\n      updateSettings: saveSettings\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 10\n    }, this);\n  }\n  _s(Index, \"B7EqwwDomjKeiTj5AvKUYNmvO9k=\", false, function () {\n    return [_expoRouter.useFocusEffect];\n  });\n  _c = Index;\n  var _c;\n  $RefreshReg$(_c, \"Index\");\n});","lineCount":113,"map":[[14,2,7,15,"Object"],[14,8,7,15],[14,9,7,15,"defineProperty"],[14,23,7,15],[14,24,7,15,"exports"],[14,31,7,15],[15,4,7,15,"enumerable"],[15,14,7,15],[16,4,7,15,"get"],[16,7,7,15],[16,18,7,15,"get"],[16,19,7,15],[17,6,7,15],[17,13,7,15,"Index"],[17,18,7,15],[18,4,7,15],[19,2,7,15],[20,2,66,1],[20,6,66,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,42,66,1],[20,45,66,1,"require"],[20,52,66,1],[20,53,66,1,"_dependencyMap"],[20,67,66,1],[21,2,66,1],[21,6,66,1,"_asyncToGenerator"],[21,23,66,1],[21,26,66,1,"_interopDefault"],[21,41,66,1],[21,42,66,1,"_babelRuntimeHelpersAsyncToGenerator"],[21,78,66,1],[22,2,66,1],[22,6,66,1,"_babelRuntimeHelpersSlicedToArray"],[22,39,66,1],[22,42,66,1,"require"],[22,49,66,1],[22,50,66,1,"_dependencyMap"],[22,64,66,1],[23,2,66,1],[23,6,66,1,"_slicedToArray"],[23,20,66,1],[23,23,66,1,"_interopDefault"],[23,38,66,1],[23,39,66,1,"_babelRuntimeHelpersSlicedToArray"],[23,72,66,1],[24,2,1,0],[24,6,1,0,"_react"],[24,12,1,0],[24,15,1,0,"require"],[24,22,1,0],[24,23,1,0,"_dependencyMap"],[24,37,1,0],[25,2,2,0],[25,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[25,42,2,0],[25,45,2,0,"require"],[25,52,2,0],[25,53,2,0,"_dependencyMap"],[25,67,2,0],[26,2,2,0],[26,6,2,0,"AsyncStorage"],[26,18,2,0],[26,21,2,0,"_interopDefault"],[26,36,2,0],[26,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,73,2,0],[27,2,3,0],[27,6,3,0,"_expoRouter"],[27,17,3,0],[27,20,3,0,"require"],[27,27,3,0],[27,28,3,0,"_dependencyMap"],[27,42,3,0],[28,2,4,0],[28,6,4,0,"_screensViewfinderScreen"],[28,30,4,0],[28,33,4,0,"require"],[28,40,4,0],[28,41,4,0,"_dependencyMap"],[28,55,4,0],[29,2,4,0],[29,6,4,0,"ViewfinderScreen"],[29,22,4,0],[29,25,4,0,"_interopDefault"],[29,40,4,0],[29,41,4,0,"_screensViewfinderScreen"],[29,65,4,0],[30,2,5,0],[30,6,5,0,"_types"],[30,12,5,0],[30,15,5,0,"require"],[30,22,5,0],[30,23,5,0,"_dependencyMap"],[30,37,5,0],[31,2,5,53],[31,6,5,53,"_reactJsxDevRuntime"],[31,25,5,53],[31,28,5,53,"require"],[31,35,5,53],[31,36,5,53,"_dependencyMap"],[31,50,5,53],[32,2,7,15],[32,11,7,24,"Index"],[32,16,7,29,"Index"],[32,17,7,29],[32,19,7,32],[33,4,7,32,"_s"],[33,6,7,32],[34,4,8,2],[34,8,8,2,"_useState"],[34,17,8,2],[34,20,8,34],[34,24,8,34,"useState"],[34,30,8,42],[34,31,8,42,"useState"],[34,39,8,42],[34,41,8,56],[35,8,9,4,"focalLength"],[35,19,9,15],[35,21,9,17],[35,23,9,19],[36,8,10,4,"pinholeSize"],[36,19,10,15],[36,21,10,17],[36,24,10,20],[37,8,11,4,"filmFormat"],[37,18,11,14],[37,20,11,16,"FILM_FORMATS"],[37,26,11,28],[37,27,11,28,"FILM_FORMATS"],[37,39,11,28],[37,40,11,29],[37,41,11,30],[37,42,11,31],[38,8,12,4,"filmOrientation"],[38,23,12,19],[38,25,12,21],[38,36,12,32],[39,8,13,4,"iso"],[39,11,13,7],[39,13,13,9],[39,16,13,12],[40,8,14,4,"selectedCondition"],[40,25,14,21],[40,27,14,23],[40,31,14,27],[41,8,15,4,"useRedFilter"],[41,20,15,16],[41,22,15,18],[41,27,15,23],[42,8,16,4,"selectedFilter"],[42,22,16,18],[42,24,16,20],[42,30,16,26],[43,8,17,4,"useReciprocityFailure"],[43,29,17,25],[43,31,17,27],[43,35,17,31],[44,8,18,4,"bracketStops"],[44,20,18,16],[44,22,18,18],[45,6,19,2],[45,7,19,3],[45,8,19,4],[46,6,19,4,"_useState2"],[46,16,19,4],[46,23,19,4,"_slicedToArray"],[46,37,19,4],[46,38,19,4,"default"],[46,45,19,4],[46,47,19,4,"_useState"],[46,56,19,4],[47,6,8,9,"settings"],[47,14,8,17],[47,17,8,17,"_useState2"],[47,27,8,17],[48,6,8,19,"setSettings"],[48,17,8,30],[48,20,8,30,"_useState2"],[48,30,8,30],[50,4,21,2],[51,4,22,2],[51,8,22,2,"useFocusEffect"],[51,19,22,16],[51,20,22,16,"useFocusEffect"],[51,34,22,16],[51,36,23,4],[51,40,23,4,"useCallback"],[51,46,23,15],[51,47,23,15,"useCallback"],[51,58,23,15],[51,60,23,16],[51,66,23,22],[52,6,24,6,"loadSettings"],[52,18,24,18],[52,19,24,19],[52,20,24,20],[53,4,25,4],[53,5,25,5],[53,7,25,7],[53,9,25,9],[53,10,26,2],[53,11,26,3],[55,4,28,2],[56,4,29,2],[56,8,29,2,"useEffect"],[56,14,29,11],[56,15,29,11,"useEffect"],[56,24,29,11],[56,26,29,12],[56,32,29,18],[57,6,30,4,"loadSettings"],[57,18,30,16],[57,19,30,17],[57,20,30,18],[58,4,31,2],[58,5,31,3],[58,7,31,5],[58,9,31,7],[58,10,31,8],[59,4,33,2],[59,8,33,8,"loadSettings"],[59,20,33,20],[60,6,33,20],[60,10,33,20,"_ref"],[60,14,33,20],[60,21,33,20,"_asyncToGenerator"],[60,38,33,20],[60,39,33,20,"default"],[60,46,33,20],[60,48,33,23],[60,61,33,35],[61,8,34,4],[61,12,34,8],[62,10,35,6],[63,10,36,6],[63,14,36,10],[63,21,36,17,"window"],[63,27,36,23],[63,32,36,28],[63,43,36,39],[63,45,36,41],[64,10,38,6],[64,14,38,12,"stored"],[64,20,38,18],[64,29,38,27,"AsyncStorage"],[64,41,38,39],[64,42,38,39,"default"],[64,49,38,39],[64,50,38,40,"getItem"],[64,57,38,47],[64,58,38,48],[64,72,38,62],[64,73,38,63],[65,10,39,6,"console"],[65,17,39,13],[65,18,39,14,"log"],[65,21,39,17],[65,22,39,18],[65,53,39,49],[65,55,39,51,"stored"],[65,61,39,57],[65,62,39,58],[66,10,40,6],[66,14,40,10,"stored"],[66,20,40,16],[66,22,40,18],[67,12,41,8],[67,16,41,14,"parsedSettings"],[67,30,41,28],[67,33,41,31,"JSON"],[67,37,41,35],[67,38,41,36,"parse"],[67,43,41,41],[67,44,41,42,"stored"],[67,50,41,48],[67,51,41,49],[68,12,42,8,"setSettings"],[68,23,42,19],[68,24,42,20,"prev"],[68,28,42,24],[68,33,42,29],[69,14,43,10],[69,17,43,13,"prev"],[69,21,43,17],[70,14,44,10],[70,17,44,13,"parsedSettings"],[70,31,44,27],[71,14,45,10],[72,14,46,10,"filmFormat"],[72,24,46,20],[72,26,46,22,"parsedSettings"],[72,40,46,36],[72,41,46,37,"filmFormat"],[72,51,46,47],[72,55,46,51,"prev"],[72,59,46,55],[72,60,46,56,"filmFormat"],[72,70,46,66],[73,14,47,10,"filmOrientation"],[73,29,47,25],[73,31,47,27,"parsedSettings"],[73,45,47,41],[73,46,47,42,"filmOrientation"],[73,61,47,57],[73,65,47,61],[73,76,47,72],[74,14,48,10,"selectedFilter"],[74,28,48,24],[74,30,48,26,"parsedSettings"],[74,44,48,40],[74,45,48,41,"selectedFilter"],[74,59,48,55],[74,63,48,59],[75,12,49,8],[75,13,49,9],[75,14,49,10],[75,15,49,11],[76,10,50,6],[77,8,51,4],[77,9,51,5],[77,10,51,6],[77,17,51,13,"error"],[77,22,51,18],[77,24,51,20],[78,10,52,6,"console"],[78,17,52,13],[78,18,52,14,"error"],[78,23,52,19],[78,24,52,20],[78,49,52,45],[78,51,52,47,"error"],[78,56,52,52],[78,57,52,53],[79,8,53,4],[80,6,54,2],[80,7,54,3],[81,6,54,3],[81,22,33,8,"loadSettings"],[81,34,33,20,"loadSettings"],[81,35,33,20],[82,8,33,20],[82,15,33,20,"_ref"],[82,19,33,20],[82,20,33,20,"apply"],[82,25,33,20],[82,32,33,20,"arguments"],[82,41,33,20],[83,6,33,20],[84,4,33,20],[84,7,54,3],[85,4,56,2],[85,8,56,8,"saveSettings"],[85,20,56,20],[86,6,56,20],[86,10,56,20,"_ref2"],[86,15,56,20],[86,22,56,20,"_asyncToGenerator"],[86,39,56,20],[86,40,56,20,"default"],[86,47,56,20],[86,49,56,23],[86,60,56,30,"newSettings"],[86,71,56,54],[86,73,56,59],[87,8,57,4],[87,12,57,8],[88,10,58,6,"setSettings"],[88,21,58,17],[88,22,58,18,"newSettings"],[88,33,58,29],[88,34,58,30],[89,10,59,6],[89,16,59,12,"AsyncStorage"],[89,28,59,24],[89,29,59,24,"default"],[89,36,59,24],[89,37,59,25,"setItem"],[89,44,59,32],[89,45,59,33],[89,59,59,47],[89,61,59,49,"JSON"],[89,65,59,53],[89,66,59,54,"stringify"],[89,75,59,63],[89,76,59,64,"newSettings"],[89,87,59,75],[89,88,59,76],[89,89,59,77],[90,8,60,4],[90,9,60,5],[90,10,60,6],[90,17,60,13,"error"],[90,22,60,18],[90,24,60,20],[91,10,61,6,"console"],[91,17,61,13],[91,18,61,14,"error"],[91,23,61,19],[91,24,61,20],[91,48,61,44],[91,50,61,46,"error"],[91,55,61,51],[91,56,61,52],[92,8,62,4],[93,6,63,2],[93,7,63,3],[94,6,63,3],[94,22,56,8,"saveSettings"],[94,34,56,20,"saveSettings"],[94,35,56,20,"_x"],[94,37,56,20],[95,8,56,20],[95,15,56,20,"_ref2"],[95,20,56,20],[95,21,56,20,"apply"],[95,26,56,20],[95,33,56,20,"arguments"],[95,42,56,20],[96,6,56,20],[97,4,56,20],[97,7,63,3],[98,4,65,2],[98,24,65,9],[98,28,65,9,"_reactJsxDevRuntime"],[98,47,65,9],[98,48,65,9,"jsxDEV"],[98,54,65,9],[98,56,65,10,"ViewfinderScreen"],[98,72,65,26],[98,73,65,26,"default"],[98,80,65,26],[99,6,65,27,"settings"],[99,14,65,35],[99,16,65,37,"settings"],[99,24,65,46],[100,6,65,47,"updateSettings"],[100,20,65,61],[100,22,65,63,"saveSettings"],[101,4,65,76],[102,6,65,76,"fileName"],[102,14,65,76],[102,16,65,76,"_jsxFileName"],[102,28,65,76],[103,6,65,76,"lineNumber"],[103,16,65,76],[104,6,65,76,"columnNumber"],[104,18,65,76],[105,4,65,76],[105,11,65,78],[105,12,65,79],[106,2,66,0],[107,2,66,1,"_s"],[107,4,66,1],[107,5,7,24,"Index"],[107,10,7,29],[108,4,7,29],[108,12,22,2,"useFocusEffect"],[108,23,22,16],[108,24,22,16,"useFocusEffect"],[108,38,22,16],[109,2,22,16],[110,2,22,16,"_c"],[110,4,22,16],[110,7,7,24,"Index"],[110,12,7,29],[111,2,7,29],[111,6,7,29,"_c"],[111,8,7,29],[112,2,7,29,"$RefreshReg$"],[112,14,7,29],[112,15,7,29,"_c"],[112,17,7,29],[113,0,7,29],[113,3]],"functionMap":{"names":["<global>","Index","useFocusEffect$argument_0","useEffect$argument_0","loadSettings","setSettings$argument_0","saveSettings"],"mappings":"AAA;eCM;gBCgB;KDE;YEI;GFE;uBGE;oBCS;UDO;GHK;uBKE;GLO;CDG"},"hasCjsExports":false},"type":"js/module"}]}